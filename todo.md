# 已完成的终端指令处理
- [x] 签退
- [x] 心跳
- [x] 消息获取
- [x] 消息确认
- [x] 数据上传
- [x] 增量名单下载
- [x] 银联终端密钥绑定
- [x] 文件内容下载
- [ ] 签到
- [ ] 统一提醒（未读消息及重签到）

# Todo（近期）

- [ ] 核心功能
  - [ ] 签到，版本比对
  - [ ] 统一的签到及未读消息提醒
  - [ ] 从数据库中读取原始交易记录打包成文件（通过配置文件控制是否启用）
- [ ] WEB后台
  - [ ] 登录
  - [ ] 商户管理
  - [ ] 终端管理
  - [ ] 文件发布
  - [ ] 消息管理
  - [ ] 终端事件查询
  - [ ] 终端日志信息（考虑服务端解析终端日志数据并保存，待定）
  - [ ] 终端消费数据查询（直接提供原始数据的查询页面）
  - [ ] 控制台实时日志(服务端日志文件保存，SSE输出实时日志)
  - [ ] 审计日志查询（操作日志，改密日志，登录日志）


# Todo（远期）
- [ ] IC卡自助充值
- [ ] 守护卡
- [ ] 聚合支付


## 当前在做的事情
### 20250402
1. 调整handler的处理逻辑，IIso8583MessageHandler 中不再直接回复，而是返回一个response对象，由handler的调用者进行回复
2. 增加流量统计功能，统计每个终端的流量消耗情况
3. 修改数据库中保存的原始交易信息，采用BLOB存储，而不是TEXT，以节约空间
4. 仓储增加批量插入、更新、删除等方法

### 20250403
1. 调整Terminal中属性和版本为JSON字段，自动序列化
2. 拆分Terminal为Terminal和TerminalVersion两个表
3. 实现TerminalManager中的终端信息对比